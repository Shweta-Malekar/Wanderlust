<%layout("/layouts/boilerplate.ejs")%>

<style>
   .filters {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  overflow-x: auto;      /* Enable horizontal scroll */
  white-space: nowrap;  /* Prevent wrapping */
  padding: 0.5rem 0;
}

/* Hide scrollbar (optional, looks cleaner) */
.filters::-webkit-scrollbar {
  display: none;
}

.filters {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.filter {
  text-align: center;
  margin-right: 5px;
  min-width: 70px;   /* Controls how many show */
  opacity: 0.6;
  flex-shrink: 0;    /* Prevent shrinking */
}

.filter:hover {
  opacity: 1;
  cursor: pointer;
}

.filter p {
  font-size: 0.8rem;
}

.taxPrice{
  display: none;
}

/* Keep switch in one line */
.taxToggle{
  /* flex-shrink: 0; */
  margin-left: auto;   /* Push toggle to right */
  border: 0.7px black solid;
  border-radius:0.7rem;
 height: 2.7rem;
 padding: 0.5rem;
 /* margin-top: 0.2rem; */
}

/* Mobile */
@media (max-width: 576px) {
  .filter {
    min-width: 60px;
  }
}

/* Tablet */
@media (max-width: 768px) {
  .filter {
    min-width: 75px;
  }
}

/* Desktop */
@media (min-width: 769px) {
  .filter {
    min-width: auto;
  }
}
</style>

  
</style>
<div class="filters">
  <div class="filter">
    <i class="fa-solid fa-fire"></i>
  <p>Trending</p>
  </div>

  <div class="filter">
   <i class="fa-solid fa-bed"></i>
  <p>Rooms</p>
  </div>

  <div class="filter">
   <i class="fa-solid fa-mountain-city"></i>
  <p>Iconic Cities </p>
  </div>

  <div class="filter">
   <i class="fa-solid fa-mountain"></i>
  <p>Mountains </p>
  </div>

  <div class="filter">
 <i class="fab fa-fort-awesome"></i>
  <p>Castle </p>
  </div>

  <div class="filter">
  <i class="fa-solid fa-snowflake"></i>
  <p>Arctic</p>
  </div>

  <div class="filter">
  <i class="fas fa-tractor"></i>
  <p>Farm</p>
  </div>

  <div class="filter">
 <i class="fa-solid fa-campground"></i>
  <p>Camping</p>
  </div>
  <div class="filter">
  <i class="fas fa-umbrella-beach"></i>
  <p>Beach</p>
  </div>

  <div class="filter">
  <i class="fa-solid fa-ship"></i>
  <p>Ship</p>
  </div>

  <div class="filter">
 <i class="fa-solid fa-person-swimming"></i>
  <p>Amazing Pools</p>
  </div>

  <div class="taxToggle">
<div class="form-switch form-check-reverse">
  <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
  <label class="form-check-label" for="switchCheckDefault"> Display tax after taxes</label>
  </div>
</div>
</div>

<div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3">
     <%for (let Listing of allListing) {%>
        <a class="tag" href="/listings/<%=Listing._id %>">
        <div class="card  cols listing-card">
           <img src="<%=Listing.image.url%>" class="card-img-top" alt="listing image" style="height: 20rem;">
             <div class="card-body">
              <p class="card-text">
               <b><%=Listing.title %></b> <br>
             &#x20B9 <%=Listing.price ?Listing.price.toLocaleString("en-IN"):"N/A" %>/night
              <i class="taxPrice">&nbsp;&nbsp; +18% GST</i>  </p>
          </div>
        </div>
       </a>
       <% } %>
</div>

<script>
  let taxToggle=document.getElementById("switchCheckDefault");
  taxToggle.addEventListener("click",()=>{
    let taxPrices=document.getElementsByClassName("taxPrice");
      for(taxPrice of taxPrices){
        if(taxPrice.style.display!="inline"){
    taxPrice.style.display="inline";
   }
  else{
    taxPrice.style.display="none";
  }}
    
  })
  </script>
